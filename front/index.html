<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Image Recovery</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link href="css/thumbnail-gallery.css" rel="stylesheet">

  </head>

  <body>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
      <div class="container">
        <a class="navbar-brand" href="#">Image Retrieval</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item active">
              <a class="nav-link" href="index.html">Home
                <span class="sr-only">(current)</span>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <br></br>
    <!-- Page Content -->
    <div class="container">
   
      <div class="container-content"></div>
      <div id="formbusca" class="row"> 
        <div class="col-sm-4"><input id="imgurl" name="imgurl" type="file" accept="image/png, image/jpeg, image/jpg image/JPG"/>  </div>  
        
        <div class="row">
            <select id="dbname" onchange="updateOptions()">
                <option value="corel1000">Corel 1000</option>
                <option value="oxfordflowers">Oxford Flowers</option>
            </select>
            &nbsp;
            <select id="selectbox">
                <option value="Horse">Cavalos</option>
                <option value="Mountain">Montanhas</option>
                <option value="Food">Comida</option>
                <option value="Dinosaur">Dinossauros</option>
                <option value="Elephant">Elefantes</option>
                <option value="Flower">Flores</option>
                <option value="Beach">Praia</option>
                <option value="Building">Construções</option>
                <option value="Buses">Onibus</option>
                <option value="Africa">Africa</option>
            </select>
            &nbsp;
            <select id="tecnica">
                <option value="qpm">Query-Point Movement</option>
                <option value="multiquery">Múltiplos centros de consultas</option>
                <option value="rfra">RFRA</option>
            </select>
            &nbsp;
            <select id="modelocores">
              <option value="grayscale">Escala de Cinza</option>
              <option value="rgb">RGB</option>
            </select>
            &nbsp;
            <button type="submit" value=Upload class="btn btn-primary" onclick="upload_file()">Enviar</button>
        </div>
      </div>
      
      <div id="imagem" class="row" style="width:100%;height:auto;display:none;">
          <img id="blah" class="img-fluid" style="max-width: 100%;height: 400px;" src="#" alt="Objeto consulta" />
      </div>

      <div id="imagens" style="display: none">
        <h1 class="my-4 text-center">Resultados</h1>
        <div class="row">
          <button id="refilter" style="display:none" onclick="refilter()" type="submit" class="btn btn-primary"> Refazer busca</button>
        </div>  
        <div id="realimagens" class="row text-center text-lg-left">
          
        </div>
      </div>
    </div>
    <!-- /.container -->
    
    <!-- 
    <footer id="footer" class="position-fixed container-fluid py-5 bg-dark postion-b-0">
      <div class="container">
        
      </div>
      <w!-- /.container 
    </footer> -->

    <script src="script.js"></script>
    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script>
    
    function readURL(){
        var reader = new FileReader();

        reader.onload = function(e) {
          $('#blah').attr('src', e.target.result);
        }

        reader.readAsDataURL(document.getElementById("imgurl").files[0]);

    };
    $("#imgurl").change(function() {
        $('#imagem').show();
        readURL(this);
    });


    function updateOptions(){
      let dbname = $('#dbname').val();
      if (dbname == 'corel1000'){
        $('#selectbox').html('\
        <option value="Horse">Cavalos</option>\
        <option value="Mountain">Montanhas</option>\
        <option value="Food">Comida</option>\
        <option value="Dinosaur">Dinossauros</option>\
        <option value="Elephant">Elefantes</option>\
        <option value="Flower">Flores</option>\
        <option value="Beach">Praia</option>\
        <option value="Building">Construções</option>\
        <option value="Buses">Onibus</option>\
        <option value="Africa">Africa</option>')
      }
      else{
        $('#selectbox').html('\
        <option value="Buttercup">Buttercup</option>\
        <option value="ColtsFoot">Colts\' Foot</option>\
        <option value="Cowslip">Cowslip</option>\
        <option value="Daffodil">Daffodil</option>\
        <option value="Daisy">Daisy</option>\
        <option value="Dandelalion">Dandelion</option>\
        <option value="Fritillary">Fritillary</option>\
        <option value="Iris">Iris</option>\
        <option value="Pansy">Pansy</option>\
        <option value="Sunflower">Sunflower</option>\
        <option value="Windflower">Windflower</option>\
        <option value="Snowdrop">Snowdrop</option>\
        <option value="LilyValley">Lily Valley</option>\
        <option value="Bluebell">Blue Bell</option>\
        <option value="Crocus">Crocus</option>\
        <option value="Tigerlily">Tiger Lily</option>\
        <option value="Tulip">Tulip</option>\
        '
        )
      }

      
      // 'buttercup' 'coltsfoot' 'daffodil' 'daisy' 'dandelion' 'fritillary' 'iris' 'pansy' 'sunflower' 'windflower' 'snowdrop' 'lily valley' 'blue bell' 'crocus' 'tigerlily' 'tulip' 'cowslip'
    };
    
    </script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  </body>

</html>
